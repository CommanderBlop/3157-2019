/*----------------------------------------------------------------------------*/
/*                                                                            */
/*    Module:       main.cpp                                                  */
/*    Author:       C:\Users\LongJiakai                                       */
/*    Created:      Tue Oct 01 2019                                           */
/*    Description:  V5 project                                                */
/*                                                                            */
/*----------------------------------------------------------------------------*/
#include "vex.h"

using namespace vex;

vex::motor      BackR(vex::PORT1, vex::gearSetting::ratio18_1, true);
vex::motor      FrontR(vex::PORT2, vex::gearSetting::ratio18_1, true);
vex::motor      BackL(vex::PORT3, vex::gearSetting::ratio18_1, false);
vex::motor      FrontL(vex::PORT4, vex::gearSetting::ratio18_1, false);
vex::motor      intakeL(vex::PORT9, vex::gearSetting::ratio18_1, false);
vex::motor      intakeR(vex::PORT8, vex::gearSetting::ratio18_1, false);
vex::motor      angler(vex::PORT16, vex::gearSetting::ratio18_1, false);
vex::motor      bar(vex::PORT15, vex::gearSetting::ratio18_1, true);

// A global instance of vex::brain used for printing to the V5 brain screen
vex::brain       Brain;
vex::controller con(vex::controllerType::primary);
// define your global instances of motors and other devices here

int main() {
   
    while(1) {
        BackL.spin(vex::directionType::fwd, con.Axis3.position(pct), vex::velocityUnits::pct);
        BackR.spin(vex::directionType::fwd, con.Axis2.position(pct), vex::velocityUnits::pct);
        FrontR.spin(vex::directionType::fwd, con.Axis2.position(pct), vex::velocityUnits::pct);
        FrontL.spin(vex::directionType::fwd, con.Axis3.position(pct), vex::velocityUnits::pct);
        
        if(con.ButtonL1.pressing()) {
          intakeL.spin(vex::directionType::fwd, 75, vex::velocityUnits::pct);
          intakeR.spin(vex::directionType::rev, 75, vex::velocityUnits::pct);
        } else if(con.ButtonL2.pressing()) {
          intakeL.spin(vex::directionType::rev, 75, vex::velocityUnits::pct);
          intakeR.spin(vex::directionType::fwd, 75, vex::velocityUnits::pct);
        } else {
          intakeL.stop(brakeType::hold);
          intakeR.stop(brakeType::hold);
        }

        if(con.ButtonR1.pressing()) {
          angler.spin(vex::directionType::fwd, 20, vex::velocityUnits::pct);
        } else if(con.ButtonR2.pressing()) {
          angler.spin(directionType::rev, 20, velocityUnits::pct);
        } else {
          angler.stop(brakeType::brake);
        }

        if(con.ButtonUp.pressing()) {
          bar.spin(directionType::fwd, 100, velocityUnits::pct);
        } else if(con.ButtonDown.pressing()) {
          bar.spin(directionType::rev, 100, velocityUnits::pct);
        } else {
          bar.stop(brakeType::brake);
        }

    }
}
